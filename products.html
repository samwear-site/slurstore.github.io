<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title><store_name> - Products</title>
    <link rel="stylesheet" href="css/general-style.css">
</head>
<body>
    <!-- Header Section -->
    <header>
        <div class="logo"><store_name></div>
        <nav>
            <a href="index.html">Home</a>
            <a href="products.html">Products</a>
            <a href="contact.html">Contact</a>
            <a href="checkout.html" class="cart">Checkout</a>
        </nav>
    </header>

    <!-- Products Section -->
    <div class="container products-container">
        <h2>Our Products</h2>
        <p>Browse through our collection of amazing products. Find your perfect match!</p>

        <!-- Product Grid -->
        <div class="product-grid" id="productContainer">
            <!-- Product 1 -->
            <script>
                document.addEventListener("DOMContentLoaded", function () {
                    fetch("products.json")
                        .then(response => response.json())
                        .then(products => {
                            let productContainer = document.getElementById("productContainer");
        
                            products.forEach(product => {
                                let productCard = document.createElement("div");
                                productCard.classList.add("product-card");
                                if (product.description.lenght > 50){

                                    var newDesc = product.description.slice(0, 50)+"...";
                                }
                                else{
                                    var newDesc = product.description;
                                }
        
                                productCard.innerHTML = `
                                    <img src="${product.image}" alt="${product.name}">
                                    <h3>${product.name}</h3>
                                    <p>${newDesc}</p>
                                    <div class="price">${product.price}</div>
                                    <button class="cta-button buy-now"><a href="product-details.html?id=${product.pid}">View Details</a></button>
                                `;
        
                                productContainer.appendChild(productCard);
                            });
                        })
                        .catch(error => console.error("Error loading products:", error));
                });
        
                // function buyNow(productId) {
                //     alert("Product ID " + productId + " added to cart!");
                // }
            </script>
            
                
            </div>
        </div>

        <!-- Pagination (optional) -->
        <div class="pagination">
            <a href="#">Previous</a>
            <a href="#">1</a>
            <a href="#">2</a>
            <a href="#">3</a>
            <a href="#">Next</a>
        </div>
    </div>

    <!-- Footer Section -->
    <footer>
        <div class="footer-links">
            <a href="about.html">About</a>
            <a href="contact.html">Contact</a>
            <a href="terms.html">Terms & Conditions</a>
        </div>
        <p>&copy; 2025 <store_name>. All rights reserved.</p>
    </footer>
</body>
</html>
